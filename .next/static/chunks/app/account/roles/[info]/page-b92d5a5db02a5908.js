(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[898],{86804:function(e,t,r){Promise.resolve().then(r.bind(r,57186))},91933:function(e,t,r){"use strict";var n=r(9268),a=r(35846),s=r.n(a),l=r(86006);let o={regular:"max-w-xs text-white bg-primary hover:opacity-2 focus:ring-4 focus:outline-none focus:ring-blue-300 font-medium rounded text-sm px-5 py-2.5 text-center hover:bg-secondary text-[13px] md:text-sm lg:text-15px leading-4 h-11 md:h-[50px] px-5 lg:px-6 py-4 md:py-3.5 lg:py-4"};t.Z=l.memo(function(e){let{label:t,nameIcon:r,type:a="button",location:l="",design:i="regular",width:c="120px",handleClick:d=()=>{}}=e,u="".concat(o[i]," w-[").concat(c,"]");return l?(0,n.jsx)(n.Fragment,{children:(0,n.jsxs)(s(),{className:"".concat(u),href:l,children:[(0,n.jsx)("i",{className:"fas ".concat(r)})," ",t]})}):(0,n.jsx)(n.Fragment,{children:(0,n.jsxs)("button",{className:"".concat(u),type:a,onClick:d,children:[(0,n.jsx)("i",{className:"fas ".concat(r)})," ",t]})})})},57186:function(e,t,r){"use strict";r.r(t),r.d(t,{default:function(){return m}});var n=r(9268),a=r(86006),s=r(19700),l=r(77948),o=r(92664),i=r(91933),c=r(22202),d=r(42903),u=r(41873);function m(e){let{action:t="a",id:r=""}=e,{register:m,handleSubmit:x,formState:{errors:p},setValue:f}=(0,s.cI)({mode:"onChange"}),{isActionEdit:h,isActionAdd:g}=(0,d.w8)({action:t}),{addNewRole:b,editRole:y,getOneRole:j}=(0,l.d)();(0,a.useEffect)(()=>{h&&v()},[]);let v=async()=>{let e=await j({id:r});f("name",e.name),f("description",e.description),f("state",e.state)},N=async e=>{let t={...e,state:e.state?1:0};g?await b(t):h&&await y(r,t)};return(0,n.jsxs)("form",{className:"space-y-6",onSubmit:x(N),children:[(0,n.jsx)("h2",{className:"text-brand-dark text-base lg:text-lg xl:text-[20px] font-semibold xl:leading-8 mb-5 md:mb-6 lg:mb-7 lg:-mt-1",children:"Datos del rol"}),(0,n.jsxs)("div",{className:"grid lg:grid-cols-2 gap-5",children:[(0,n.jsx)(o.Z,{name:"name",label:"Nombre",errors:p,validations:{...m("name",{required:!0})}}),(0,n.jsx)(u.Z,{label:"Descripci\xf3n",name:"description",errors:p,validations:{...m("description")}})]}),(0,n.jsx)("hr",{className:"mt-6 border-b-1 border-blueGray-300"}),(0,n.jsx)("div",{className:"grid w-full",children:(0,n.jsx)(c.Z,{validations:{...m("state")}})}),(0,n.jsx)("hr",{className:"mt-6 border-b-1 border-blueGray-300"}),(0,n.jsx)(i.Z,{label:"".concat((0,d.fM)({action:t})),type:"submit",full:!0})]})}},92664:function(e,t,r){"use strict";r.d(t,{Z:function(){return s}});var n=r(9268),a=r(86006);function s(e){var t;let{label:r="Not label",name:s,type:l="text",errors:o,validations:i,amountMinLength:c=5}=e,d=(0,a.useId)(1,"login-email-"),u=null===(t=o[s])||void 0===t?void 0:t.type,m="required"===u,x="pattern"===u,p="minLength"===u,f=m||x||p?"red":"gray";return(0,n.jsx)(n.Fragment,{children:(0,n.jsxs)("div",{className:"mb-3",children:[(0,n.jsx)("label",{htmlFor:d,className:"block font-normal text-sm leading-none mb-3 cursor-pointer text-".concat(f,"-500"),children:r}),(0,n.jsx)("input",{type:l,step:"any",id:d,className:"px-5 text-heading outline-none w-full h-[52px] ltr:pl-5 rtl:pr-5 md:ltr:pl-6 md:rtl:pr-6 ltr:pr-14 rtl:pl-14 md:ltr:pr-16 md:rtl:pl-16 bg-brand-light text-sm lg:text-15px rounded-md transition-all duration-200 border border-".concat(u?f+"-500":"gray-200"),...i}),m&&(0,n.jsxs)("p",{className:"mt-2 text-xs text-red-500",children:[(0,n.jsx)("span",{className:"font-medium",children:"Oops!"})," Este campo es requerido"]}),x&&(0,n.jsxs)("p",{className:"mt-2 text-xs text-red-500",children:[(0,n.jsx)("span",{className:"font-medium",children:"Oops!"})," Ingresa un correo v\xe1lido"]}),p&&(0,n.jsxs)("p",{className:"mt-2 text-xs text-red-500",children:[(0,n.jsx)("span",{className:"font-medium",children:"Oops!"})," Caract\xe9res m\xednimos es"," ",c]})]})})}},41873:function(e,t,r){"use strict";r.d(t,{Z:function(){return s}});var n=r(9268),a=r(86006);function s(e){var t;let{label:r="Not label",name:s,errors:l,validations:o}=e,i=(0,a.useId)(1,"login-email-"),c=null===(t=l[s])||void 0===t?void 0:t.type,d="required"===c,u="pattern"===c,m=d||u?"red":"gray";return(0,n.jsxs)("div",{className:"mb-3",children:[(0,n.jsx)("label",{htmlFor:i,className:"block font-normal text-sm leading-none mb-3 cursor-pointer text-".concat(m,"-500"),children:r}),(0,n.jsx)("textarea",{id:i,className:"px-5 py-4 text-heading outline-none w-full h-[52px] ltr:pl-5 rtl:pr-5 md:ltr:pl-6 md:rtl:pr-6 ltr:pr-14 rtl:pl-14 md:ltr:pr-16 md:rtl:pl-16 bg-brand-light text-sm lg:text-15px rounded-md transition-all duration-200 border border-".concat(c?m+"-500":"gray-200"),...o}),d&&(0,n.jsxs)("p",{className:"mt-2 text-xs text-red-500",children:[(0,n.jsx)("span",{className:"font-medium",children:"Oops!"})," Este campo es requerido"]}),u&&(0,n.jsxs)("p",{className:"mt-2 text-xs text-red-500",children:[(0,n.jsx)("span",{className:"font-medium",children:"Oops!"})," Ingresa un correo v\xe1lido"]})]})}},22202:function(e,t,r){"use strict";r.d(t,{Z:function(){return a},s:function(){return s}});var n=r(9268);function a(e){let{validations:t}=e;return(0,n.jsxs)("div",{className:"relative flex pt-6 md:pt-8 lg:pt-10",children:[(0,n.jsxs)("div",{className:"pr-2.5 rtl:pl-2.5",children:[(0,n.jsx)("h3",{className:"text-brand-dark text-15px sm:text-base font-semibold mb-1 font-medium",children:"Estado"}),(0,n.jsx)("p",{className:"text-brand-muted text-sm leading-7 lg:leading-[1.85em]",children:"Activa o desactiva en caso de uso"})]}),(0,n.jsx)("div",{className:"ml-auto rtl:mr-auto",children:(0,n.jsx)(s,{validations:t})})]})}function s(e){let{validations:t}=e;return(0,n.jsxs)("label",{className:"relative inline-flex items-center cursor-pointer ml-auto rtl:mr-auto",children:[(0,n.jsx)("input",{type:"checkbox",className:"sr-only peer",...t}),(0,n.jsx)("div",{className:"w-11 h-6 bg-gray-200 peer-focus:outline-none peer-focus:ring-4 rounded-full peer dark:bg-gray-700 peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all dark:border-gray-600 peer-checked:bg-secondary"})]})}},84894:function(e,t,r){"use strict";r.r(t),r.d(t,{LoadingContext:function(){return s},default:function(){return l}});var n=r(9268),a=r(86006);let s=a.createContext({});function l(e){let{children:t}=e,[r,l]=(0,a.useState)(!1);return(0,n.jsx)(s.Provider,{value:{loading:r,setLoading:l},children:t})}},19124:function(e,t,r){"use strict";r.d(t,{V:function(){return o}});var n=r(69799);let a=e=>{let{message:t="Error de conexion no mapeado",isError:r}=e;return r&&(0,n.G)({message:t}),{isError:r}};var s=r(16554),l=r(56008);let o=()=>{let{showLoading:e,hideLoading:t}=(0,s.r)(),r=(0,l.useRouter)(),n=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return"TokenExpiredError"===e||"JsonWebTokenError"===e||"NotBeforeError"===e},o=async function(s){let l=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;e();try{let e=await s(),{name:o}=e;t(),n(o)&&r.push("/logout");let{isError:i}=a(e);return i||(e=await l(e)),e}catch(e){t(),a({isError:!0})}},i=async r=>{e();try{let e=await r();return a(e),t(),e}catch(e){t(),a({isError:!0})}},c=async(r,n)=>{e();try{let e=await r();t();let{isError:s}=a(e);s||n(e)}catch(e){t(),a({isError:!0})}};return{tryCatchReturnResponse:i,tryCatchOnlyActions:c,tryCatch:o}}},16554:function(e,t,r){"use strict";r.d(t,{r:function(){return s}});var n=r(86006),a=r(84894);let s=()=>{let{loading:e,setLoading:t}=(0,n.useContext)(a.LoadingContext);return{isLoading:!!e,showLoading:()=>t(!0),hideLoading:()=>t(!1)}}},77948:function(e,t,r){"use strict";r.d(t,{d:function(){return l}});var n=r(19124),a=r(69799),s=r(56008);let l=()=>{let{tryCatch:e}=(0,n.V)(),t=(0,s.useRouter)(),r=async()=>e(async()=>{let e=await fetch("/api/roles/getAll"),t=await e.json();return t},e=>e),l=async()=>e(async()=>{let e=await fetch("/api/roles/getAll?state=1"),t=await e.json();return t},e=>e),o=async t=>{let{id:r}=t;return e(async()=>{let e=await fetch("/api/roles/getOne?id=".concat(r)),t=await e.json();return t},e=>e)},i=async r=>e(async()=>{let e=await fetch("/api/roles/add",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(r)}),t=await e.json();return t},()=>{(0,a.w)({message:"\xa1Rol agregado!"}),t.push("/account/roles")}),c=async(r,n)=>e(async()=>{let e=await fetch("/api/roles/edit?id=".concat(r),{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(n)}),t=await e.json();return t},()=>{(0,a.w)({message:"\xa1Rol editado!"}),t.push("/account/roles")});return{getAllRoles:r,getActivedRoles:l,getOneRole:o,addNewRole:i,editRole:c}}},69799:function(e,t,r){"use strict";r.d(t,{G:function(){return s},w:function(){return l}});var n=r(40856),a=r.n(n);let s=e=>{let{message:t}=e;a().fire({icon:"error",html:"<h4>".concat(t,"</h4>"),timer:3e3,showConfirmButton:!1,width:400,padding:"2em 3em",background:"#fff url(/images/trees.png)",backdrop:"\n    rgba(123, 0, 0, 0.4)\n    left top\n    no-repeat\n  "})},l=e=>{let{message:t}=e;a().fire({icon:"success",html:"<h4>".concat(t,"</h4>"),timer:3e3,showConfirmButton:!1,width:400,padding:"2em 3em",backdrop:"\n    rgba(129, 233, 121, 0.4)\n    left top\n    no-repeat\n  "})}},42903:function(e,t,r){"use strict";r.d(t,{fM:function(){return n},w8:function(){return a}});let n=e=>{let{action:t}=e;switch(t){case"a":return"Agregar";case"e":return"Editar";case"c":return"Clonar";default:return"Action not found"}},a=e=>{let{action:t}=e;return{isActionEdit:"e"===t,isActionAdd:"a"===t,isActionPreview:"p"===t,isActionClone:"c"===t}}}},function(e){e.O(0,[377,846,700,667,488,744],function(){return e(e.s=86804)}),_N_E=e.O()}]);