(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[945],{10456:function(e,t,a){Promise.resolve().then(a.bind(a,3733))},3733:function(e,t,a){"use strict";a.r(t),a.d(t,{default:function(){return h}});var n=a(9268),s=a(8683),r=a.n(s),c=a(97944),o=a(84272);let i=[{accessorKey:"name",header:()=>(0,n.jsx)("span",{children:"Nombre"}),cell:e=>(0,n.jsx)("span",{className:"font-bold",children:e.getValue()})},{accessorKey:"description",header:()=>(0,n.jsx)("span",{children:"Descripci\xf3n"})},{accessorKey:"state",header:()=>(0,n.jsx)("span",{children:"Estado"}),cell:e=>(0,n.jsx)("span",{className:r()({"text-xs text-gray-600 font-medium mr-2 px-2.5 py-0.5 rounded border":!0,"bg-red-100 border-red-400":0===e.getValue(),"bg-green-100 border-green-400":1===e.getValue()}),children:e.getValue()?"Activo":"Inactivo"}),enableSorting:!0},{accessorKey:"id",header:"Acciones",cell:e=>{let t=e.getValue();return(0,n.jsx)("div",{className:"space-x-2",children:(0,n.jsx)(c.Z,{linkEdit:"/account/roles/e".concat(t)})})},enableSorting:!1}];function l(e){let{roles:t=[]}=e;return(0,n.jsx)(o.Z,{title:"Roles",subtitle:"Lista de roles de usuario registrados en el sistema",columns:i,data:t,linkRefActionAdd:"/account/roles/a"})}var d=a(77948),u=a(86006);function h(){let[e,t]=(0,u.useState)([]),{getAllRoles:a}=(0,d.d)();return(0,u.useEffect)(()=>{a().then(t)},[]),(0,n.jsx)(l,{roles:e})}},77948:function(e,t,a){"use strict";a.d(t,{d:function(){return c}});var n=a(19124),s=a(69799),r=a(56008);let c=()=>{let{tryCatch:e}=(0,n.V)(),t=(0,r.useRouter)(),a=async()=>e(async()=>{let e=await fetch("/api/roles/getAll"),t=await e.json();return t},e=>e),c=async()=>e(async()=>{let e=await fetch("/api/roles/getAll?state=1"),t=await e.json();return t},e=>e),o=async t=>{let{id:a}=t;return e(async()=>{let e=await fetch("/api/roles/getOne?id=".concat(a)),t=await e.json();return t},e=>e)},i=async a=>e(async()=>{let e=await fetch("/api/roles/add",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(a)}),t=await e.json();return t},()=>{(0,s.w)({message:"\xa1Rol agregado!"}),t.push("/account/roles")}),l=async(a,n)=>e(async()=>{let e=await fetch("/api/roles/edit?id=".concat(a),{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(n)}),t=await e.json();return t},()=>{(0,s.w)({message:"\xa1Rol editado!"}),t.push("/account/roles")});return{getAllRoles:a,getActivedRoles:c,getOneRole:o,addNewRole:i,editRole:l}}}},function(e){e.O(0,[377,846,769,171,530,667,488,744],function(){return e(e.s=10456)}),_N_E=e.O()}]);