(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[998],{53136:function(e,t,a){Promise.resolve().then(a.bind(a,47632))},91933:function(e,t,a){"use strict";var r=a(9268),n=a(35846),s=a.n(n),i=a(86006);let l={regular:"max-w-xs text-white bg-primary hover:opacity-2 focus:ring-4 focus:outline-none focus:ring-blue-300 font-medium rounded text-sm px-5 py-2.5 text-center hover:bg-secondary text-[13px] md:text-sm lg:text-15px leading-4 h-11 md:h-[50px] px-5 lg:px-6 py-4 md:py-3.5 lg:py-4"};t.Z=i.memo(function(e){let{label:t,nameIcon:a,type:n="button",location:i="",design:o="regular",width:c="120px",handleClick:d=()=>{}}=e,u="".concat(l[o]," w-[").concat(c,"]");return i?(0,r.jsx)(r.Fragment,{children:(0,r.jsxs)(s(),{className:"".concat(u),href:i,children:[(0,r.jsx)("i",{className:"fas ".concat(a)})," ",t]})}):(0,r.jsx)(r.Fragment,{children:(0,r.jsxs)("button",{className:"".concat(u),type:n,onClick:d,children:[(0,r.jsx)("i",{className:"fas ".concat(a)})," ",t]})})})},47632:function(e,t,a){"use strict";a.r(t),a.d(t,{default:function(){return x}});var r=a(9268),n=a(86006),s=a(19700),i=a(49581),l=a(92664),o=a(91933),c=a(22202),d=a(42903),u=a(41873),m=a(6029),p=a(42905);function x(e){let{action:t="a",id:a=""}=e,[x,f]=(0,n.useState)([]),{register:h,handleSubmit:g,formState:{errors:b},setValue:y}=(0,s.cI)({mode:"onChange"}),{isActionEdit:j,isActionAdd:w}=(0,d.w8)({action:t}),{addNewCategory:v,editCategory:N,getOneCategory:k}=(0,i.L)(),{getActivedFamilies:C}=(0,p.L)();(0,n.useEffect)(()=>{C().then(e=>{f(e),j?E():w&&(y("idFamily",e[0].id),y("state",!0))})},[]);let E=async()=>{var e;let t=await k({id:a});y("name",t.name),y("description",t.description),y("state",t.state),y("idFamily",null==t?void 0:null===(e=t.family)||void 0===e?void 0:e.id)},O=async e=>{let t={...e,state:e.state?1:0};w?await v(t):j&&await N(a,t)};return(0,r.jsxs)("form",{className:"space-y-6",onSubmit:g(O),children:[(0,r.jsx)("h2",{className:"text-brand-dark text-base lg:text-lg xl:text-[20px] font-semibold xl:leading-8 mb-5 md:mb-6 lg:mb-7 lg:-mt-1",children:"Datos de la categor\xeda"}),(0,r.jsxs)("div",{className:"grid lg:grid-cols-2 gap-5",children:[(0,r.jsx)(l.Z,{name:"name",label:"Nombre",errors:b,validations:{...h("name",{required:!0})}}),(0,r.jsx)(u.Z,{label:"Descripci\xf3n",name:"description",errors:b,validations:{...h("description")}})]}),(0,r.jsx)("hr",{className:"mt-6 border-b-1 border-blueGray-300"}),(0,r.jsx)("div",{className:"grid lg:grid-cols-2 gap-5",children:(0,r.jsx)(m.Z,{label:"Familia",items:x,validations:{...h("idFamily")}})}),(0,r.jsx)("div",{className:"grid w-full",children:(0,r.jsx)(c.Z,{validations:{...h("state")}})}),(0,r.jsx)("hr",{className:"mt-6 border-b-1 border-blueGray-300"}),(0,r.jsx)(o.Z,{label:"".concat((0,d.fM)({action:t})),type:"submit",full:!0})]})}},92664:function(e,t,a){"use strict";a.d(t,{Z:function(){return s}});var r=a(9268),n=a(86006);function s(e){var t;let{label:a="Not label",name:s,type:i="text",errors:l,validations:o,amountMinLength:c=5}=e,d=(0,n.useId)(1,"login-email-"),u=null===(t=l[s])||void 0===t?void 0:t.type,m="required"===u,p="pattern"===u,x="minLength"===u,f=m||p||x?"red":"gray";return(0,r.jsx)(r.Fragment,{children:(0,r.jsxs)("div",{className:"mb-3",children:[(0,r.jsx)("label",{htmlFor:d,className:"block font-normal text-sm leading-none mb-3 cursor-pointer text-".concat(f,"-500"),children:a}),(0,r.jsx)("input",{type:i,step:"any",id:d,className:"px-5 text-heading outline-none w-full h-[52px] ltr:pl-5 rtl:pr-5 md:ltr:pl-6 md:rtl:pr-6 ltr:pr-14 rtl:pl-14 md:ltr:pr-16 md:rtl:pl-16 bg-brand-light text-sm lg:text-15px rounded-md transition-all duration-200 border border-".concat(u?f+"-500":"gray-200"),...o}),m&&(0,r.jsxs)("p",{className:"mt-2 text-xs text-red-500",children:[(0,r.jsx)("span",{className:"font-medium",children:"Oops!"})," Este campo es requerido"]}),p&&(0,r.jsxs)("p",{className:"mt-2 text-xs text-red-500",children:[(0,r.jsx)("span",{className:"font-medium",children:"Oops!"})," Ingresa un correo v\xe1lido"]}),x&&(0,r.jsxs)("p",{className:"mt-2 text-xs text-red-500",children:[(0,r.jsx)("span",{className:"font-medium",children:"Oops!"})," Caract\xe9res m\xednimos es"," ",c]})]})})}},6029:function(e,t,a){"use strict";a.d(t,{Z:function(){return n}});var r=a(9268);function n(e){let{label:t,defaultValue:a="",items:n,validations:s={}}=e;return(0,r.jsx)("div",{className:"w-full",children:(0,r.jsxs)("div",{className:"relative w-full mb-3",children:[(0,r.jsx)("label",{className:"block font-normal text-sm leading-none mb-3 cursor-pointer text-gray-500",children:t}),(0,r.jsx)("select",{className:"border-0 px-3 py-3 placeholder-blueGray-300 text-blueGray-600 bg-white rounded text-sm shadow focus:outline-none focus:ring w-full ease-linear transition-all duration-150",defaultValue:a,...s,children:n.map((e,t)=>(0,r.jsx)("option",{value:e.id,children:e.name},t))})]})})}},41873:function(e,t,a){"use strict";a.d(t,{Z:function(){return s}});var r=a(9268),n=a(86006);function s(e){var t;let{label:a="Not label",name:s,errors:i,validations:l}=e,o=(0,n.useId)(1,"login-email-"),c=null===(t=i[s])||void 0===t?void 0:t.type,d="required"===c,u="pattern"===c,m=d||u?"red":"gray";return(0,r.jsxs)("div",{className:"mb-3",children:[(0,r.jsx)("label",{htmlFor:o,className:"block font-normal text-sm leading-none mb-3 cursor-pointer text-".concat(m,"-500"),children:a}),(0,r.jsx)("textarea",{id:o,className:"px-5 py-4 text-heading outline-none w-full h-[52px] ltr:pl-5 rtl:pr-5 md:ltr:pl-6 md:rtl:pr-6 ltr:pr-14 rtl:pl-14 md:ltr:pr-16 md:rtl:pl-16 bg-brand-light text-sm lg:text-15px rounded-md transition-all duration-200 border border-".concat(c?m+"-500":"gray-200"),...l}),d&&(0,r.jsxs)("p",{className:"mt-2 text-xs text-red-500",children:[(0,r.jsx)("span",{className:"font-medium",children:"Oops!"})," Este campo es requerido"]}),u&&(0,r.jsxs)("p",{className:"mt-2 text-xs text-red-500",children:[(0,r.jsx)("span",{className:"font-medium",children:"Oops!"})," Ingresa un correo v\xe1lido"]})]})}},22202:function(e,t,a){"use strict";a.d(t,{Z:function(){return n},s:function(){return s}});var r=a(9268);function n(e){let{validations:t}=e;return(0,r.jsxs)("div",{className:"relative flex pt-6 md:pt-8 lg:pt-10",children:[(0,r.jsxs)("div",{className:"pr-2.5 rtl:pl-2.5",children:[(0,r.jsx)("h3",{className:"text-brand-dark text-15px sm:text-base font-semibold mb-1 font-medium",children:"Estado"}),(0,r.jsx)("p",{className:"text-brand-muted text-sm leading-7 lg:leading-[1.85em]",children:"Activa o desactiva en caso de uso"})]}),(0,r.jsx)("div",{className:"ml-auto rtl:mr-auto",children:(0,r.jsx)(s,{validations:t})})]})}function s(e){let{validations:t}=e;return(0,r.jsxs)("label",{className:"relative inline-flex items-center cursor-pointer ml-auto rtl:mr-auto",children:[(0,r.jsx)("input",{type:"checkbox",className:"sr-only peer",...t}),(0,r.jsx)("div",{className:"w-11 h-6 bg-gray-200 peer-focus:outline-none peer-focus:ring-4 rounded-full peer dark:bg-gray-700 peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all dark:border-gray-600 peer-checked:bg-secondary"})]})}},84894:function(e,t,a){"use strict";a.r(t),a.d(t,{LoadingContext:function(){return s},default:function(){return i}});var r=a(9268),n=a(86006);let s=n.createContext({});function i(e){let{children:t}=e,[a,i]=(0,n.useState)(!1);return(0,r.jsx)(s.Provider,{value:{loading:a,setLoading:i},children:t})}},49581:function(e,t,a){"use strict";a.d(t,{L:function(){return i}});var r=a(19124),n=a(69799),s=a(56008);let i=()=>{let{tryCatch:e}=(0,r.V)(),t=(0,s.useRouter)(),a=async()=>e(async()=>{let e=await fetch("/api/categories/getAll"),t=await e.json();return t},e=>e),i=async()=>e(async()=>{let e=await fetch("/api/categories/getAll?state=1"),t=await e.json();return t},e=>e),l=async t=>{let{id:a}=t;return e(async()=>{let e=await fetch("/api/categories/getOne?id=".concat(a)),t=await e.json();return t},e=>e)},o=async t=>{let{id:a}=t;return e(async()=>{let e=await fetch("/api/categories/getOneActived?id=".concat(a)),t=await e.json();return t},e=>e)},c=async a=>e(async()=>{let e=await fetch("/api/categories/add",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(a)}),t=await e.json();return t},()=>{(0,n.w)({message:"\xa1Categor\xeda agregado!"}),t.push("/account/categories")}),d=async(a,r)=>e(async()=>{let e=await fetch("/api/categories/edit?id=".concat(a),{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(r)}),t=await e.json();return t},()=>{(0,n.w)({message:"\xa1Categor\xeda editada!"}),t.push("/account/categories")});return{getAllCategories:a,getActivedCategories:i,getOneCategory:l,getOneActivedCategory:o,addNewCategory:c,editCategory:d}}},19124:function(e,t,a){"use strict";a.d(t,{V:function(){return l}});var r=a(69799);let n=e=>{let{message:t="Error de conexion no mapeado",isError:a}=e;return a&&(0,r.G)({message:t}),{isError:a}};var s=a(16554),i=a(56008);let l=()=>{let{showLoading:e,hideLoading:t}=(0,s.r)(),a=(0,i.useRouter)(),r=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return"TokenExpiredError"===e||"JsonWebTokenError"===e||"NotBeforeError"===e},l=async function(s){let i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;e();try{let e=await s(),{name:l}=e;t(),r(l)&&a.push("/logout");let{isError:o}=n(e);return o||(e=await i(e)),e}catch(e){t(),n({isError:!0})}},o=async a=>{e();try{let e=await a();return n(e),t(),e}catch(e){t(),n({isError:!0})}},c=async(a,r)=>{e();try{let e=await a();t();let{isError:s}=n(e);s||r(e)}catch(e){t(),n({isError:!0})}};return{tryCatchReturnResponse:o,tryCatchOnlyActions:c,tryCatch:l}}},42905:function(e,t,a){"use strict";a.d(t,{L:function(){return i}});var r=a(19124),n=a(69799),s=a(56008);let i=()=>{let{tryCatch:e}=(0,r.V)(),t=(0,s.useRouter)(),a=async()=>e(async()=>{let e=await fetch("/api/families/getAll"),t=await e.json();return t},e=>e),i=async()=>e(async()=>{let e=await fetch("/api/families/getActivedFamilies"),t=await e.json();return t},e=>e),l=async t=>{let{id:a}=t;return e(async()=>{let e=await fetch("/api/families/getOne?id=".concat(a)),t=await e.json();return t},e=>e)},o=async a=>e(async()=>{let e=await fetch("/api/families/add",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(a)}),t=await e.json();return t},()=>{(0,n.w)({message:"\xa1Familia agregado!"}),t.push("/account/families")}),c=async(a,r)=>e(async()=>{let e=await fetch("/api/families/edit?id=".concat(a),{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(r)}),t=await e.json();return t},()=>{(0,n.w)({message:"\xa1Familia editada!"}),t.push("/account/families")});return{getAllFamilies:a,getActivedFamilies:i,getOneFamily:l,addNewFamily:o,editFamily:c}}},16554:function(e,t,a){"use strict";a.d(t,{r:function(){return s}});var r=a(86006),n=a(84894);let s=()=>{let{loading:e,setLoading:t}=(0,r.useContext)(n.LoadingContext);return{isLoading:!!e,showLoading:()=>t(!0),hideLoading:()=>t(!1)}}},69799:function(e,t,a){"use strict";a.d(t,{G:function(){return s},w:function(){return i}});var r=a(40856),n=a.n(r);let s=e=>{let{message:t}=e;n().fire({icon:"error",html:"<h4>".concat(t,"</h4>"),timer:3e3,showConfirmButton:!1,width:400,padding:"2em 3em",background:"#fff url(/images/trees.png)",backdrop:"\n    rgba(123, 0, 0, 0.4)\n    left top\n    no-repeat\n  "})},i=e=>{let{message:t}=e;n().fire({icon:"success",html:"<h4>".concat(t,"</h4>"),timer:3e3,showConfirmButton:!1,width:400,padding:"2em 3em",backdrop:"\n    rgba(129, 233, 121, 0.4)\n    left top\n    no-repeat\n  "})}},42903:function(e,t,a){"use strict";a.d(t,{fM:function(){return r},w8:function(){return n}});let r=e=>{let{action:t}=e;switch(t){case"a":return"Agregar";case"e":return"Editar";case"c":return"Clonar";default:return"Action not found"}},n=e=>{let{action:t}=e;return{isActionEdit:"e"===t,isActionAdd:"a"===t,isActionPreview:"p"===t,isActionClone:"c"===t}}}},function(e){e.O(0,[377,846,700,667,488,744],function(){return e(e.s=53136)}),_N_E=e.O()}]);