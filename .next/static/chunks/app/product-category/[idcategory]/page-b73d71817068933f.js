(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[251],{43491:function(t,e,a){Promise.resolve().then(a.bind(a,34913))},34913:function(t,e,a){"use strict";a.r(e),a.d(e,{default:function(){return d}});var n=a(9268),s=a(97012),c=a(86006),r=a(55357),i=a(73043),o=a(49581),u=a(23731);function d(t){let{params:e}=t,[a,d]=(0,c.useState)({name:""}),{name:l}=a,{idcategory:f="-1"}=e,{totalPages:g,totalProducts:h,filteredProducts:y,getProductsForSearch:p}=(0,s.M)(),{searchtext:w,page:j,limit:x,order:m,maxprice:C,searchParams:O}=(0,i.P)(),{getOneActivedCategory:P}=(0,o.L)();return(0,c.useEffect)(()=>{p({searchtext:w,page:j,limit:x,order:m,idcategory:f,maxprice:C})},[O]),(0,c.useEffect)(()=>{P({id:f}).then(t=>{d(t)})},[]),(0,n.jsxs)(r.Z,{children:[(0,n.jsxs)("h1",{className:"text-2xl ",children:["Categor\xeda ",l]}),(0,n.jsx)(u.Z,{filteredProducts:y,totalPages:g,totalProducts:h,slug:"product-category/".concat(f)})]})}},49581:function(t,e,a){"use strict";a.d(e,{L:function(){return r}});var n=a(19124),s=a(69799),c=a(56008);let r=()=>{let{tryCatch:t}=(0,n.V)(),e=(0,c.useRouter)(),a=async()=>t(async()=>{let t=await fetch("/api/categories/getAll"),e=await t.json();return e},t=>t),r=async()=>t(async()=>{let t=await fetch("/api/categories/getAll?state=1"),e=await t.json();return e},t=>t),i=async e=>{let{id:a}=e;return t(async()=>{let t=await fetch("/api/categories/getOne?id=".concat(a)),e=await t.json();return e},t=>t)},o=async e=>{let{id:a}=e;return t(async()=>{let t=await fetch("/api/categories/getOneActived?id=".concat(a)),e=await t.json();return e},t=>t)},u=async a=>t(async()=>{let t=await fetch("/api/categories/add",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(a)}),e=await t.json();return e},()=>{(0,s.w)({message:"\xa1Categor\xeda agregado!"}),e.push("/account/categories")}),d=async(a,n)=>t(async()=>{let t=await fetch("/api/categories/edit?id=".concat(a),{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(n)}),e=await t.json();return e},()=>{(0,s.w)({message:"\xa1Categor\xeda editada!"}),e.push("/account/categories")});return{getAllCategories:a,getActivedCategories:r,getOneCategory:i,getOneActivedCategory:o,addNewCategory:u,editCategory:d}}}},function(t){t.O(0,[377,846,707,296,795,965,667,488,744],function(){return t(t.s=43491)}),_N_E=t.O()}]);