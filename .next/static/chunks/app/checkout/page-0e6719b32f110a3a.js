(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[285],{66147:function(e,s,t){Promise.resolve().then(t.bind(t,84180))},84180:function(e,s,t){"use strict";t.r(s),t.d(s,{default:function(){return h}});var r=t(9268),a=t(88629),l=t(92664),n=t(19700),i=t(91933),d=t(19124),c=t(69799),o=t(56008);let m=()=>{let{tryCatch:e}=(0,d.V)(),s=(0,o.useRouter)(),t=async()=>e(async()=>{let e=await fetch("/api/orders/getAll"),s=await e.json();return s},e=>e),r=async s=>{let{id:t}=s;return e(async()=>{let e=await fetch("/api/orders/getOne?id=".concat(t)),s=await e.json();return s},e=>e)},a=async t=>e(async()=>{let e=await fetch("/api/orders/add",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)}),s=await e.json();return s},()=>{(0,c.w)({message:"Pedido agregado!"}),s.push("/")});return{addNewOrder:a,getAllCategories:t,getOneCategory:r}};var x=t(18425);function u(){let{register:e,handleSubmit:s,formState:{errors:t}}=(0,n.cI)({mode:"onChange"}),{addNewOrder:a}=m(),{products:d}=(0,x.j)(),c=async e=>{let s={...e,products:d.map(e=>({nameProduct:e.name,quantity:e.quantity,unitPrice:e.price}))};await a(s)};return(0,r.jsx)(r.Fragment,{children:(0,r.jsxs)("form",{className:"w-full",onSubmit:s(c),children:[(0,r.jsx)("div",{className:"flex justify-between",children:(0,r.jsx)("h2",{className:"text-lg font-medium pb-6",children:"Mis datos"})}),(0,r.jsxs)("div",{className:"grid lg:grid-cols-2 gap-5",children:[(0,r.jsx)(l.Z,{name:"nameClient",errors:t,label:"Nombre completo",validations:{...e("nameClient",{required:!0})}}),(0,r.jsx)(l.Z,{name:"phonenumber",errors:t,label:"N\xfamero de Tel\xe9fono",placeholder:"N\xfamero de Tel\xe9fono",validations:{...e("phonenumber",{required:!0})}})]}),(0,r.jsxs)("div",{className:"grid lg:grid-cols-2 gap-5",children:[(0,r.jsx)(l.Z,{name:"department",errors:t,label:"Departamento",placeholder:"Departamento",validations:{...e("department",{required:!0})}}),(0,r.jsx)(l.Z,{name:"province",errors:t,label:"Provincia",placeholder:"Provincia",validations:{...e("province",{required:!0})}})]}),(0,r.jsxs)("div",{className:"grid lg:grid-cols-2 gap-5",children:[(0,r.jsx)(l.Z,{name:"district",errors:t,label:"Distrito",placeholder:"Distrito",validations:{...e("district",{required:!0})}}),(0,r.jsx)(l.Z,{name:"address",errors:t,label:"Direcci\xf3n",placeholder:"Direcci\xf3n",validations:{...e("address",{required:!0})}})]}),(0,r.jsx)(i.Z,{label:"REALIZAR MI PEDIDO \uD83D\uDE0A\uD83D\uDED2",type:"submit",full:!0})]})})}var p=t(55357);function h(){let{getTotal:e,removeOfCart:s,products:t}=(0,x.j)(),l=e=>{let{id:t}=e;s({idProduct:t})};return(0,r.jsxs)(p.Z,{children:[(0,r.jsxs)("div",{className:"flex h-full flex-row flex-wrap bg-white shadow-xl",children:[(0,r.jsxs)("div",{className:"flex-1 px-6 py-6 sm:px-6 overflow-y-auto",children:[(0,r.jsx)("div",{className:"flex items-start justify-between",children:(0,r.jsx)("h1",{className:"text-xl font-medium text-gray-900",children:"Mi pedido"})}),(0,r.jsx)("div",{className:"mt-8",children:(0,r.jsx)("div",{className:"flow-root",children:(0,r.jsx)("ul",{role:"list",className:"pr-6 divide-y divide-gray-200 overflow-y-scroll max-h-80",children:t.map(e=>(0,r.jsxs)("li",{className:"flex py-6",children:[(0,r.jsx)("div",{className:"h-24 w-24 flex-shrink-0 overflow-hidden rounded-md border border-gray-200",children:(0,r.jsx)("img",{src:e.urlImage,alt:e.name,className:"h-full w-full object-cover object-center"})}),(0,r.jsxs)("div",{className:"ml-4 flex flex-1 flex-col",children:[(0,r.jsxs)("div",{children:[(0,r.jsxs)("div",{className:"flex justify-between text-base font-medium text-gray-900",children:[(0,r.jsx)("h3",{children:(0,r.jsx)("a",{href:e.href,children:e.name})}),(0,r.jsxs)("p",{className:"ml-4",children:["S/",e.price]})]}),(0,r.jsx)("p",{className:"mt-1 text-sm text-gray-500",children:e.color})]}),(0,r.jsxs)("div",{className:"flex flex-1 items-end justify-between text-sm",children:[(0,r.jsxs)("p",{className:"text-gray-500",children:[(0,r.jsx)("span",{className:"text-xs",children:"Cantidad"}),(0,r.jsx)(a.Z,{id:e.id,name:e.name,price:e.price,urlImage:e.urlImage})]}),(0,r.jsx)("div",{className:"flex",children:(0,r.jsx)("button",{type:"button",className:"font-medium text-indigo-600 hover:text-indigo-500",onClick:()=>l({id:e.id}),children:"Eliminar"})})]})]})]},e.id))})})})]}),(0,r.jsxs)("div",{className:" border-gray-200 mx-6 p-6 sm:px-6",children:[(0,r.jsxs)("div",{className:"flex justify-between text-base font-medium text-gray-900",children:[(0,r.jsx)("p",{children:"Subtotal"}),(0,r.jsxs)("h1",{className:"text-xl mr-6",children:["S/",e()]})]}),(0,r.jsx)("p",{className:"mt-0.5 text-sm text-gray-500",children:"Env\xedo calculado al momento de realizar tu pedido."})]})]}),(0,r.jsx)("div",{className:"flex w-full p-6 bg-white border-t",children:(0,r.jsx)(u,{})})]})}},91933:function(e,s,t){"use strict";var r=t(9268),a=t(35846),l=t.n(a),n=t(86006);let i={regular:"max-w-xs text-white bg-primary hover:opacity-2 focus:ring-4 focus:outline-none focus:ring-blue-300 font-medium rounded text-sm px-5 py-2.5 text-center hover:bg-secondary text-[13px] md:text-sm lg:text-15px leading-4 h-11 md:h-[50px] px-5 lg:px-6 py-4 md:py-3.5 lg:py-4"};s.Z=n.memo(function(e){let{label:s,nameIcon:t,type:a="button",location:n="",design:d="regular",width:c="120px",handleClick:o=()=>{}}=e,m="".concat(i[d]," w-[").concat(c,"]");return n?(0,r.jsx)(r.Fragment,{children:(0,r.jsxs)(l(),{className:"".concat(m),href:n,children:[(0,r.jsx)("i",{className:"fas ".concat(t)})," ",s]})}):(0,r.jsx)(r.Fragment,{children:(0,r.jsxs)("button",{className:"".concat(m),type:a,onClick:o,children:[(0,r.jsx)("i",{className:"fas ".concat(t)})," ",s]})})})},92664:function(e,s,t){"use strict";t.d(s,{Z:function(){return l}});var r=t(9268),a=t(86006);function l(e){var s;let{label:t="Not label",name:l,type:n="text",errors:i,validations:d,amountMinLength:c=5}=e,o=(0,a.useId)(1,"login-email-"),m=null===(s=i[l])||void 0===s?void 0:s.type,x="required"===m,u="pattern"===m,p="minLength"===m,h=x||u||p?"red":"gray";return(0,r.jsx)(r.Fragment,{children:(0,r.jsxs)("div",{className:"mb-3",children:[(0,r.jsx)("label",{htmlFor:o,className:"block font-normal text-sm leading-none mb-3 cursor-pointer text-".concat(h,"-500"),children:t}),(0,r.jsx)("input",{type:n,step:"any",id:o,className:"px-5 text-heading outline-none w-full h-[52px] ltr:pl-5 rtl:pr-5 md:ltr:pl-6 md:rtl:pr-6 ltr:pr-14 rtl:pl-14 md:ltr:pr-16 md:rtl:pl-16 bg-brand-light text-sm lg:text-15px rounded-md transition-all duration-200 border border-".concat(m?h+"-500":"gray-200"),...d}),x&&(0,r.jsxs)("p",{className:"mt-2 text-xs text-red-500",children:[(0,r.jsx)("span",{className:"font-medium",children:"Oops!"})," Este campo es requerido"]}),u&&(0,r.jsxs)("p",{className:"mt-2 text-xs text-red-500",children:[(0,r.jsx)("span",{className:"font-medium",children:"Oops!"})," Ingresa un correo v\xe1lido"]}),p&&(0,r.jsxs)("p",{className:"mt-2 text-xs text-red-500",children:[(0,r.jsx)("span",{className:"font-medium",children:"Oops!"})," Caract\xe9res m\xednimos es"," ",c]})]})})}},55357:function(e,s,t){"use strict";t.d(s,{Z:function(){return a}});var r=t(9268);function a(e){let{children:s}=e;return(0,r.jsx)("section",{className:"mx-auto max-w-7xl px-3 sm:px-6 lg:px-5 py-5 ",children:(0,r.jsx)("div",{className:"",children:s})})}}},function(e){e.O(0,[377,846,700,795,667,488,744],function(){return e(e.s=66147)}),_N_E=e.O()}]);