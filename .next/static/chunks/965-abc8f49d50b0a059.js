"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[965],{91933:function(e,t,a){var r=a(9268),l=a(35846),s=a.n(l),c=a(86006);let i={regular:"max-w-xs text-white bg-primary hover:opacity-2 focus:ring-4 focus:outline-none focus:ring-blue-300 font-medium rounded text-sm px-5 py-2.5 text-center hover:bg-secondary text-[13px] md:text-sm lg:text-15px leading-4 h-11 md:h-[50px] px-5 lg:px-6 py-4 md:py-3.5 lg:py-4"};t.Z=c.memo(function(e){let{label:t,nameIcon:a,type:l="button",location:c="",design:n="regular",width:o="120px",handleClick:d=()=>{}}=e,x="".concat(i[n]," w-[").concat(o,"]");return c?(0,r.jsx)(r.Fragment,{children:(0,r.jsxs)(s(),{className:"".concat(x),href:c,children:[(0,r.jsx)("i",{className:"fas ".concat(a)})," ",t]})}):(0,r.jsx)(r.Fragment,{children:(0,r.jsxs)("button",{className:"".concat(x),type:l,onClick:d,children:[(0,r.jsx)("i",{className:"fas ".concat(a)})," ",t]})})})},23731:function(e,t,a){a.d(t,{Z:function(){return k}});var r=a(9268),l=a(86006),s=a(31230),c=a.n(s),i=a(91933),n=a(73043);let o=e=>{let{slug:t}=e,a=(0,l.useId)(),{searchtext:s,order:c,maxprice:o}=(0,n.P)(),[d,x]=(0,l.useState)(o),m="/".concat(t,"?search_text=").concat(s,"&order=").concat(c,"&maxprice=").concat(d);return(0,r.jsxs)("div",{className:"shrink-0 text-[15px] mr-3 flex flex-col",children:[(0,r.jsx)("label",{htmlFor:a,children:"Por precio: "}),(0,r.jsxs)("div",{className:"flex gap-8",children:[(0,r.jsx)("input",{type:"range",id:a,min:"0",max:"1000",className:"pr-6 accent-primary w-[220px] mb-1",onChange:e=>{let t=e.target.value;x(t)},value:d}),(0,r.jsx)(i.Z,{label:"Filtrar",location:m})]}),(0,r.jsxs)("span",{children:["S/",d,".00"]})]})};function d(e){let{slug:t}=e;return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)("div",{className:"jsx-70fadb47ee9ac5e block mb-3",children:(0,r.jsx)("div",{className:"jsx-70fadb47ee9ac5e flex items-center justify-between mb-4 -mt-1",children:(0,r.jsxs)("section",{className:"jsx-70fadb47ee9ac5e filters",children:[(0,r.jsx)("h3",{className:"jsx-70fadb47ee9ac5e text-dark text-15px sm:text-base font-semibold",children:"Filtros"}),(0,r.jsx)(o,{slug:t})]})})}),(0,r.jsx)(c(),{id:"70fadb47ee9ac5e",children:".filters.jsx-70fadb47ee9ac5e{-webkit-box-flex:1;-webkit-flex:1;-moz-box-flex:1;-ms-flex:1;flex:1;display:-webkit-box;display:-webkit-flex;display:-moz-box;display:-ms-flexbox;display:flex;-webkit-box-orient:vertical;-webkit-box-direction:normal;-webkit-flex-direction:column;-moz-box-orient:vertical;-moz-box-direction:normal;-ms-flex-direction:column;flex-direction:column;margin:1em 0;min-width:300px;gap:1em}.filters__minprice.jsx-70fadb47ee9ac5e{display:-webkit-box;display:-webkit-flex;display:-moz-box;display:-ms-flexbox;display:flex;-webkit-box-orient:vertical;-webkit-box-direction:normal;-webkit-flex-direction:column;-moz-box-orient:vertical;-moz-box-direction:normal;-ms-flex-direction:column;flex-direction:column;max-width:200px;color:var(--dark)}"})]})}var x=a(76394),m=a.n(x),u=a(35846),p=a.n(u),f=a(88629),h=l.memo(function(e){var t;let{id:a,name:l="",price:s,priceBefore:i=0,images:n=[]}=e,o=(null===(t=n[0])||void 0===t?void 0:t.url)||"/storage/no-image-placeholder.png";return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsxs)(p(),{href:"/product-detail/"+a,className:"flex flex-col shadow group overflow-hidden rounded-md cursor-pointer transition-all duration-300 shadow-card hover:shadow-cardHover relative h-full",children:[(0,r.jsxs)("div",{className:"jsx-1f59e83008de1edc relative shrink-0",children:[(0,r.jsx)("div",{className:"jsx-1f59e83008de1edc overflow-hidden mx-auto w-full sm:w-[180px] h-[180px] md:w-[200px] md:h-[200px] transition duration-200 ease-in-out transform group-hover:scale-105 relative",children:(0,r.jsx)(m(),{src:o,alt:"Producto",width:750,height:500,quality:75})}),(0,r.jsx)("div",{className:"jsx-1f59e83008de1edc w-full h-full absolute top-0 left-4 pt-2.5 md:pt-3.5 px-3 md:px-4 lg:px-[18px] z-10 -mx-0.5 sm:-mx-1",children:(0,r.jsx)("div",{className:"jsx-1f59e83008de1edc block product-count-button-position",children:(0,r.jsx)(f.Z,{id:a,name:l,price:s,urlImage:o})})})]}),(0,r.jsxs)("div",{className:"jsx-1f59e83008de1edc flex flex-col px-3 md:px-4 lg:px-[18px] pb-5 lg:pb-6 lg:pt-1.5 mt-3 h-full",children:[(0,r.jsx)("div",{className:"jsx-1f59e83008de1edc mb-1 lg:mb-1.5 -mx-1",children:(0,r.jsxs)("span",{className:"jsx-1f59e83008de1edc inline-block mx-1 text-sm font-semibold sm:text-15px lg:text-base text-brand-dark",children:["S/.",s,(0,r.jsx)("span",{className:"jsx-1f59e83008de1edc ml-2 text-xs text-gray-600",children:i>0&&(0,r.jsxs)("del",{className:"jsx-1f59e83008de1edc",children:["S/.",i]})})]})}),(0,r.jsx)("h2",{className:"jsx-1f59e83008de1edc text-brand-dark text-13px sm:text-sm lg:text-15px leading-5 sm:leading-6 mb-1.5 ",children:l}),(0,r.jsx)("div",{className:"jsx-1f59e83008de1edc mt-auto text-13px sm:text-sm",children:"1 Bag"})]})]}),(0,r.jsx)(c(),{id:"1f59e83008de1edc",children:".product-count-button-position.jsx-1f59e83008de1edc{position:absolute;bottom:-1.3rem;display:-webkit-box;display:-webkit-flex;display:-moz-box;display:-ms-flexbox;display:flex;-webkit-box-pack:center;-webkit-justify-content:center;-moz-box-pack:center;-ms-flex-pack:center;justify-content:center;right:30px}"})]})});function g(e){let{products:t=[]}=e;return(0,r.jsx)("div",{className:"grid grid-cols-2 sm:grid-cols-3 lg:grid-cols-3 xl:grid-cols-4 2xl:grid-cols-5 3xl:grid-cols-6 gap-3 md:gap-4 2xl:gap-5 z-5",children:t.map(e=>{let{id:t,...a}=e;return(0,r.jsx)(h,{id:t,...a},t)})})}var b=a(56008);let j=[{value:"todos",label:"Seleccionar"},{value:"minprice",label:"Menor precio"},{value:"maxprice",label:"Mayor precio"},{value:"az",label:"A - Z"},{value:"za",label:"Z - A"}];function v(e){let{slug:t="search"}=e,a=(0,b.useRouter)(),{searchtext:s,order:c,maxprice:i}=(0,n.P)(),[o,d]=(0,l.useState)("todos");(0,l.useEffect)(()=>{d(c)},[c]);let x=e=>{a.push("/".concat(t,"?search_text=").concat(s,"&order=").concat(e,"&maxprice=").concat(i))};return(0,r.jsx)("div",{className:"w-full",children:(0,r.jsx)("div",{className:"relative w-full mb-3",children:(0,r.jsx)("select",{className:"border-0 px-3 py-3 placeholder-blueGray-300 text-blueGray-600 bg-white rounded text-sm shadow focus:outline-none focus:ring ease-linear transition-all duration-150 sm:w-5 lg:w-[150px]",onChange:e=>{let{value:t}=e.target;x(t)},value:o,children:j.map((e,t)=>{let{value:a,label:l}=e;return(0,r.jsx)("option",{value:a,className:"p-1",children:l},t)})})})})}function y(e){let{url:t,children:a,classes:l="",isDisabled:s=!1}=e;return(0,r.jsx)(r.Fragment,{children:(0,r.jsx)("li",{children:s?(0,r.jsx)("span",{href:t,className:"flex items-center justify-center px-3 h-8 ml-0 leading-tight text-gray-400\n            bg-gray-200 border border-gray-300 ".concat(l," cursor-default"),children:a}):(0,r.jsx)(p(),{href:t,className:"flex items-center justify-center px-3 h-8 ml-0 leading-tight text-gray-500 bg-white border border-gray-300 ".concat(l," hover:bg-gray-100 hover:text-gray-700"),children:a})})})}function w(e){let{totalPages:t=0,slug:a="search"}=e,l=Array.from({length:t}),{searchtext:s,order:c,maxprice:i,page:o=1}=(0,n.P)(),d=e=>{let{page:t=1}=e;return"/".concat(a,"?page=").concat(t,"&search_text=").concat(s,"&order=").concat(c,"&maxprice=").concat(i)},x=d({page:1}),m=d({page:t}),u=d({page:parseInt(o)-1}),f=d({page:parseInt(o)+1});return(0,r.jsx)("nav",{"aria-label":"Page navigation example",children:(0,r.jsxs)("ul",{className:"inline-flex -space-x-px text-sm",children:[(0,r.jsx)(y,{url:x,classes:"rounded-l-lg",isDisabled:o<=1,children:"<<"}),(0,r.jsx)(y,{url:u,isDisabled:o<=1,children:"<"}),l.map((e,t)=>{let l="/".concat(a,"?page=").concat(t+1,"&search_text=").concat(s,"&order=").concat(c,"&maxprice=").concat(i);return(0,r.jsx)("li",{children:(0,r.jsx)(p(),{href:l,className:"flex items-center justify-center px-3 h-8 leading-tight text-black ".concat(t+1===o?"bg-gray-100 ":"bg-white"," border border-gray-300 hover:bg-gray-100 hover:text-gray-700"),children:t+1})},t)}),(0,r.jsx)(y,{url:f,isDisabled:o===t,children:">"}),(0,r.jsx)(y,{url:m,classes:"rounded-r-lg",isDisabled:o===t,children:">>"})]})})}function N(e){let{slug:t}=e;return(0,r.jsx)("div",{className:"sticky hidden h-full lg:pt-4 shrink-0 pr-8 xl:pr-16 lg:block w-80 xl:w-96 top-5",children:(0,r.jsx)("div",{className:"space-y-10",children:(0,r.jsx)(d,{slug:t})})})}function k(e){let{filteredProducts:t,totalPages:a,totalProducts:l,slug:s}=e;return(0,r.jsxs)("div",{className:"flex",children:[(0,r.jsx)(N,{slug:s}),(0,r.jsxs)("div",{className:"w-full",children:[(0,r.jsx)("div",{className:"flex flex-col mb-6",children:(0,r.jsxs)("div",{className:"flex items-center w-full lg:justify-between ",children:[(0,r.jsxs)("div",{className:"shrink-0 text-dark font-medium text-[15px] leading-4 md:mr-6  hidden lg:block mt-0.5",children:[l," Productos encontrados"]}),(0,r.jsx)("div",{className:"relative mr-2 lg:ml-0 lg:mr-0 min-w-[160px]",children:(0,r.jsxs)("div",{className:"flex items-center",children:[(0,r.jsx)("div",{className:"shrink-0 text-[15px] mr-2 text-dark text-opacity-70",children:"Ordenado por:"}),(0,r.jsx)(v,{slug:s})]})})]})}),(0,r.jsx)(g,{products:t}),(0,r.jsx)("div",{className:"text-center mt-5",children:0===l?(0,r.jsx)("p",{className:"text-2xl font-semibold text-gray-500",children:"No se encontraron productos"}):(0,r.jsx)(w,{totalPages:a,slug:s})})]})]})}},55357:function(e,t,a){a.d(t,{Z:function(){return l}});var r=a(9268);function l(e){let{children:t}=e;return(0,r.jsx)("section",{className:"mx-auto max-w-7xl px-3 sm:px-6 lg:px-5 py-5 ",children:(0,r.jsx)("div",{className:"",children:t})})}},15976:function(e,t,a){a.r(t),a.d(t,{FilteredProductsContext:function(){return s},default:function(){return c}});var r=a(9268),l=a(86006);let s=l.createContext({});function c(e){let{children:t}=e,[a,c]=(0,l.useState)([]),[i,n]=(0,l.useState)(0),[o,d]=(0,l.useState)(0);return(0,r.jsx)(s.Provider,{value:{filteredProducts:a,setFilteredProducts:c,totalPages:i,setTotalPages:n,totalProducts:o,setTotalProducts:d},children:t})}},97012:function(e,t,a){a.d(t,{M:function(){return i}});var r=a(86006),l=a(15976),s=a(19124),c=a(31958);function i(){let{tryCatch:e}=(0,s.V)(),{filteredProducts:t,setFilteredProducts:a,totalPages:i,setTotalPages:n,totalProducts:o,setTotalProducts:d}=(0,r.useContext)(l.FilteredProductsContext),x=async t=>{let{searchtext:a,page:r,limit:l,order:s,idcategory:c,maxprice:i}=t;return e(async()=>{let e="/api/products/productsForSearchParameters?searchtext=".concat(a,"&page=").concat(r,"&limit=").concat(l,"&order=").concat(s,"&idcategory=").concat(c,"&maxprice=").concat(i),t=await fetch(e),n=await t.json();return n},e=>e)},m=async t=>{let{page:a,limit:r,order:l,idfamily:s,maxprice:c}=t;return e(async()=>{let e="/api/products/productsForFamily?page=".concat(a,"&limit=").concat(r,"&order=").concat(l,"&idfamily=").concat(s,"&maxprice=").concat(c),t=await fetch(e),i=await t.json();return i},e=>e)},u=async e=>{let{searchtext:t=c.t.searchtext,page:r=c.t.page,limit:l=c.t.limit,order:s=c.t.order,idcategory:i=c.t.idcategory,idfamily:o=c.t.idfamily,maxprice:m=c.t.maxprice}=e,u={searchtext:t,page:r,limit:l,order:s,idcategory:i,maxprice:m,idfamily:o},{products:p,totalPages:f,totalProducts:h}=await x(u);return n(f),a(p),d(h),{parameters:u}},p=async e=>{let{page:t=c.t.page,limit:r=c.t.limit,order:l=c.t.order,idfamily:s=c.t.idfamily,maxprice:i=c.t.maxprice}=e,{products:o,totalPages:x,totalProducts:u}=await m({page:t,limit:r,order:l,maxprice:i,idfamily:s});return n(x),a(o),d(u),{products:o,totalPages:x,totalProducts:u}};return{filteredProducts:t,totalPages:i,totalProducts:o,getProductsForFamily:p,getProductsForSearch:u}}},73043:function(e,t,a){a.d(t,{P:function(){return l}});let{useSearchParams:r}=a(56008),l=()=>{let e=r(),t=e.get("search_text"),a=parseInt(e.get("page")),l=e.get("limit"),s=e.get("order"),c=e.get("maxprice");return{searchtext:null!=t?t:"",page:a||1,limit:null!=l?l:12,order:null!=s?s:"",maxprice:null!=c?c:1e3,searchParams:e}}},31958:function(e,t,a){a.d(t,{t:function(){return r}});let r={limit:10,page:1,order:"",searchtext:"",maxprice:1e4,idcategory:"",idfamily:"",urlImgDefault:"/storage/icon-image-not-found.jpg"}}}]);